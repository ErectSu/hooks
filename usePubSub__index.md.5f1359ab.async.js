(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13,12],{"/7QA":function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return N})),n.d(t,"e",(function(){return w})),n.d(t,"a",(function(){return j.a})),n.d(t,"b",(function(){return k}));var a,r=n("tJVT"),c=n("rAM+"),s=n("q1tI"),o=new Set,l={xs:{min:-1/0,max:576},sm:{min:576,max:768},md:{min:768,max:992},lg:{min:992,max:1200},xl:{min:1200,max:1600},xxl:{min:1600,max:1/0}};function u(){a||(a={size:{height:0,width:0},screen:"xs"},i(),window.addEventListener("resize",()=>{var e=a;if(i(),e!==a){var t,n=Object(c["a"])(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;r()}}catch(s){n.e(s)}finally{n.f()}}}))}function i(){for(var e,t=window.innerWidth,n=window.innerHeight,r={size:{width:t,height:n}},c=!1,s=0,o=Object.keys(l);s<o.length;s++){var u=o[s];if(e=l[u],t>=e.min&&t<e.max){r.screen=u,c=!0;break}}(c||r.size.width!==a.size.width||r.size.height!==a.size.height)&&(a=r)}function m(){u();var e=Object(s["useState"])(a),t=Object(r["a"])(e,2),n=t[0],c=t[1];return Object(s["useEffect"])(()=>{var e=()=>{c(a)};return o.add(e),()=>{o.delete(e)}},[]),n}var p,f=n("k1fw"),b=n("PpiC"),d=n("TTbB"),E=(n("BXCy"),n("n+Aq")),g=(e,t)=>{var n=Object(E["b"])(e),a=Object(r["a"])(n,2),c=a[0],s=a[1];return Object(E["c"])(()=>{var e=t();s(e)}),[c,s]},v=g,y="__WETRIAL_USEFORMTABLE__";function h(e,t){var n=v("".concat(y).concat(t.cacheKey),()=>q()),a=Object(r["a"])(n,1),c=a[0],o=c||{},l=o.active,u=o.defaultType,i=void 0===u?"simple":u,m=o.defaultParams,g=t.form,h=t.refreshDeps,N=void 0===h?[]:h,k=t.manual,O=t.defaultType,j=void 0===O?t.cacheKey&&l?i:"simple":O,w=t.defaultParams,S=void 0===w?t.cacheKey&&l?m:void 0:w,x=(t.cacheKey,Object(b["a"])(t,["form","refreshDeps","manual","defaultType","defaultParams","cacheKey"])),C=Object(d["a"])(e,Object(f["a"])(Object(f["a"])({formatResult:p},x),{},{paginated:!0,manual:!0})),P=C.params,M=C.run,I=P[2]||{},T=Object(s["useState"])(I.type||j),A=Object(r["a"])(T,2),B=A[0],F=A[1],R=Object(s["useState"])(I.allFormData||S&&S[1]||{}),D=Object(r["a"])(R,2),K=D[0],z=D[1],J=Object(s["useCallback"])(()=>{if(!g)return{};if(g.getFieldInstance){var e=g.getFieldsValue(),t={};return Object.keys(e).forEach(n=>{g.getFieldInstance&&!g.getFieldInstance(n)||(t[n]=e[n])}),t}return g.getFieldsValue(null,()=>!0)},[g]),L=Object(s["useRef"])(g);L.current=g,Object(s["useEffect"])(()=>{if(L.current)if(L.current.getFieldInstance){var e={};Object.keys(K).forEach(t=>{L.current.getFieldInstance&&!L.current.getFieldInstance(t)||(e[t]=K[t])}),L.current.setFieldsValue(e)}else L.current.setFieldsValue(K)},[B]),Object(s["useEffect"])(()=>{P.length>0?M(...P):k||V(S)},[]);var _=Object(s["useCallback"])(()=>{var e=J();z(Object(f["a"])(Object(f["a"])({},K),e));var t="simple"===B?"advance":"simple";F(t)},[B,K,J]),V=Object(s["useCallback"])(e=>{setTimeout(()=>{var n=J(),a=Object(f["a"])(Object(f["a"])({},K),n);z(a),M(e?e[0]:Object(f["a"])(Object(f["a"])({pageSize:t.defaultPageSize||10},P[0]||{}),{},{current:1}),n,{allFormData:a,type:B})})},[J,M,P,K,B]),G=Object(s["useCallback"])(()=>{g&&g.resetFields(),V()},[g,V]),H=Object(E["a"])(G),q=()=>{var e=C.tableProps.pagination,t=P[0]||{},n=t.sorter;return{active:!1,defaultType:B,defaultParams:[{current:e.current,pageSize:e.pageSize,sorter:n?{order:n.order,field:n.field}:void 0},K]}};return Object(E["d"])(()=>{k||H()},[...N]),Object(f["a"])(Object(f["a"])({},C),{},{search:{submit:()=>{V()},type:B,changeType:_,reset:G}})}var N=h,k=e=>{if(sessionStorage){var t="".concat(y).concat(e),n=sessionStorage.getItem(t);if(null!==n){var a=JSON.parse(n);sessionStorage.setItem(t,JSON.stringify(Object(f["a"])(Object(f["a"])({},a),{},{active:!0})))}}},O=n("kRpH"),j=n.n(O);function w(e,t){Object(s["useEffect"])(()=>{var n=j.a.subscribe(e,t);return()=>{j.a.unsubscribe(n)}},[])}},"0Owb":function(e,t,n){"use strict";function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a.apply(this,arguments)}n.d(t,"a",(function(){return a}))},"14J3":function(e,t,n){"use strict";n("cIOH"),n("1GLa")},BMrR:function(e,t,n){"use strict";var a=n("qrJ5");t["a"]=a["a"]},"K+nK":function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},K0wg:function(e,t,n){"use strict";n.r(t);n("cIOH"),n("bE4E");var a=n("q1tI"),r=n.n(a),c=n("TSYQ"),s=n.n(c),o=n("H84U");function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},m=function(e){return a["createElement"](o["a"],null,(function(t){var n,r=t.getPrefixCls,c=t.direction,o=e.prefixCls,m=e.type,p=void 0===m?"horizontal":m,f=e.orientation,b=void 0===f?"center":f,d=e.className,E=e.children,g=e.dashed,v=e.plain,y=i(e,["prefixCls","type","orientation","className","children","dashed","plain"]),h=r("divider",o),N=b.length>0?"-".concat(b):b,k=!!E,O=s()(d,h,"".concat(h,"-").concat(p),(n={},u(n,"".concat(h,"-with-text"),k),u(n,"".concat(h,"-with-text").concat(N),k),u(n,"".concat(h,"-dashed"),!!g),u(n,"".concat(h,"-plain"),!!v),u(n,"".concat(h,"-rtl"),"rtl"===c),n));return a["createElement"]("div",l({className:O},y,{role:"separator"}),E&&a["createElement"]("span",{className:"".concat(h,"-inner-text")},E))}))},p=m,f=(n("14J3"),n("BMrR")),b=(n("+L6B"),n("2/Rp")),d=(n("jCWc"),n("kPKH")),E=(n("5NDa"),n("5rEg")),g=(n("PQMj"),n("MFj2")),v=n("BGR+");function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y.apply(this,arguments)}function h(e,t){return w(e)||j(e,t)||k(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,c=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done);a=!0)if(n.push(s.value),t&&n.length===t)break}catch(l){r=!0,c=l}finally{try{a||null==o["return"]||o["return"]()}finally{if(r)throw c}}return n}}function w(e){if(Array.isArray(e))return e}function S(e){return e?e.toString().split("").reverse().map((function(e){var t=Number(e);return isNaN(t)?e:t})):[]}function x(e,t){for(var n=[],r=0;r<30;r++)n.push(a["createElement"]("p",{key:r.toString(),className:s()(t,{current:e===r})},r%10));return n}var C=function(e){var t=a["useState"](!0),n=h(t,2),r=n[0],c=n[1],l=a["useState"](e.count),u=h(l,2),i=u[0],m=u[1],p=a["useState"](e.count),f=h(p,2),b=f[0],d=f[1],E=a["useState"](e.count),g=h(E,2),N=g[0],k=g[1];b!==e.count&&(c(!0),d(e.count)),a["useEffect"]((function(){var t;return k(i),r&&(t=setTimeout((function(){c(!1),m(e.count),e.onAnimated&&e.onAnimated()}))),function(){t&&clearTimeout(t)}}),[r,i,e.count,e.onAnimated]);var O=function(e,t){var n=Math.abs(Number(i)),a=Math.abs(Number(N)),c=Math.abs(S(i)[t]),s=Math.abs(S(a)[t]);return r?10+e:n>a?c>=s?10+e:20+e:c<=s?10+e:e},j=function(e,t,n){if("number"===typeof t){var c=O(t,n),s=r||void 0===S(N)[n];return a["createElement"]("span",{className:"".concat(e,"-only"),style:{transition:s?"none":void 0,msTransform:"translateY(".concat(100*-c,"%)"),WebkitTransform:"translateY(".concat(100*-c,"%)"),transform:"translateY(".concat(100*-c,"%)")},key:n},x(c,"".concat(e,"-only-unit")))}return a["createElement"]("span",{key:"symbol",className:"".concat(e,"-symbol")},t)},w=function(e){return i&&Number(i)%1===0?S(i).map((function(t,n){return j(e,t,n)})).reverse():i},C=function(t){var n=t.getPrefixCls,r=e.prefixCls,c=e.className,o=e.style,l=e.title,u=e.component,i=void 0===u?"sup":u,m=e.displayComponent,p=Object(v["a"])(e,["count","onAnimated","component","prefixCls","displayComponent"]),f=n("scroll-number",r),b=y(y({},p),{className:s()(f,c),title:l});return o&&o.borderColor&&(b.style=y(y({},o),{boxShadow:"0 0 0 1px ".concat(o.borderColor," inset")})),m?a["cloneElement"](m,{className:s()("".concat(f,"-custom-component"),m.props&&m.props.className)}):a["createElement"](i,b,w(f))};return a["createElement"](o["a"],null,C)};C.defaultProps={count:null,onAnimated:function(){}};var P=C,M=n("CWQg"),I=(Object(M["a"])("success","processing","error","default","warning"),Object(M["a"])("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"));function T(e){return T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},B.apply(this,arguments)}var F=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function R(e){return-1!==I.indexOf(e)}var D=function(e){var t=function(){var t=e.count,n=e.overflowCount,a=t>n?"".concat(n,"+"):t;return a},n=function(){var t=e.status,n=e.color;return!!t||!!n},r=function(){var e=t();return"0"===e||0===e},c=function(){var t=e.dot;return t&&!r()||n()},l=function(){return c()?"":t()},u=function(){var t=e.title,n=e.count;return t||("string"===typeof n||"number"===typeof n?n:void 0)},i=function(){var t=e.offset,n=e.style;return t?B({right:-parseInt(t[0],10),marginTop:t[1]},n):n},m=function(t){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr",c=e.className,o=e.children;return s()(c,t,(a={},A(a,"".concat(t,"-status"),n()),A(a,"".concat(t,"-not-a-wrapper"),!o),A(a,"".concat(t,"-rtl"),"rtl"===r),a))},p=function(){var t=e.showZero,n=l(),a=null===n||void 0===n||""===n;return(a||r()&&!t)&&!c()},f=function(t){var n=e.text,r=p();return r||!n?null:a["createElement"]("span",{className:"".concat(t,"-status-text")},n)},b=function(){var t=e.count,n=t;if(n&&"object"===T(n))return a["cloneElement"](n,{style:B(B({},i()),n.props&&n.props.style)})},d=function(t,n){var r,o=e.status,m=e.count,f=e.color,d=l(),E=c(),g=p(),v=s()((r={},A(r,"".concat(t,"-dot"),E),A(r,"".concat(t,"-count"),!E),A(r,"".concat(t,"-multiple-words"),!E&&m&&m.toString&&m.toString().length>1),A(r,"".concat(t,"-status-").concat(o),!!o),A(r,"".concat(t,"-status-").concat(f),R(f)),r)),y=i();return f&&!R(f)&&(y=y||{},y.background=f),g?null:a["createElement"](P,{prefixCls:n,"data-show":!g,className:v,count:d,displayComponent:b(),title:u(),style:y,key:"scrollNumber"})},E=function(t){var r,c=t.getPrefixCls,o=t.direction,l=e.prefixCls,u=e.scrollNumberPrefixCls,p=e.children,b=e.status,E=e.text,y=e.color,h=F(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color"]),N=["count","showZero","overflowCount","className","style","dot","offset","title"],k=c("badge",l),O=c("scroll-number",u),j=d(k,O),w=f(k),S=s()((r={},A(r,"".concat(k,"-status-dot"),n()),A(r,"".concat(k,"-status-").concat(b),!!b),A(r,"".concat(k,"-status-").concat(y),R(y)),r)),x={};if(y&&!R(y)&&(x.background=y),!p&&n()){var C=i(),P=C&&C.color;return a["createElement"]("span",B({},Object(v["a"])(h,N),{className:m(k,o),style:C}),a["createElement"]("span",{className:S,style:x}),a["createElement"]("span",{style:{color:P},className:"".concat(k,"-status-text")},E))}return a["createElement"]("span",B({},Object(v["a"])(h,N),{className:m(k,o)}),p,a["createElement"](g["default"],{component:"",showProp:"data-show",transitionName:p?"".concat(k,"-zoom"):"",transitionAppear:!0},j),w)};return a["createElement"](o["a"],null,E)};D.defaultProps={count:null,showZero:!1,dot:!1,overflowCount:99};var K=D,z=n("tJVT"),J=n("/7QA"),L={sendMessage:"sendMessage"};function _(){var e=Object(a["useState"])(""),t=Object(z["a"])(e,2),n=t[0],c=t[1];return Object(J["e"])(L.sendMessage,(e,t)=>{c(t)}),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{dot:!0},"\u6d88\u606f"),r.a.createElement(E["a"].TextArea,{value:n}))}function V(){var e=Object(a["useState"])(""),t=Object(z["a"])(e,2),n=t[0],c=t[1],s=e=>{e.preventDefault(),J["a"].publish(L.sendMessage,"".concat(n,"-").concat((new Date).getTime())),c("")};return r.a.createElement(E["a"].Group,null,r.a.createElement(f["a"],null,r.a.createElement(d["a"],{span:22},r.a.createElement(E["a"],{value:n,onChange:e=>{c(e.target.value)},defaultValue:"receive"})),r.a.createElement(d["a"],{span:2},r.a.createElement(b["a"],{onClick:s,type:"primary"},"\u53d1\u9001"))))}t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement(p,null),r.a.createElement(V,null))}},"KR+h":function(e,t,n){"use strict";n.r(t);var a=n("0Owb"),r=n("q1tI"),c=n.n(r),s=(n("B2uJ"),n("+su7"),n("5Yjd")),o=n.n(s),l=c.a.memo((function(){var e=n("K+nK"),t=e(n("q1tI")),a=e(n("K0wg")),r=function(){return t["default"].createElement(a["default"],null)};return t["default"].createElement(r)}));t["default"]=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"markdown"},c.a.createElement("h1",{id:"usepubsub"},c.a.createElement("a",{"aria-hidden":"true",href:"#usepubsub"},c.a.createElement("span",{className:"icon icon-link"})),"usePubSub"),c.a.createElement("p",null,"\u5728\u591a\u4e2a\u7ec4\u4ef6\u4e4b\u95f4\u8fdb\u884c\u4e8b\u4ef6\u901a\u77e5\u6709\u65f6\u4f1a\u8ba9\u4eba\u975e\u5e38\u5934\u75bc\uff0c\u501f\u52a9 PubSub \uff0c\u53ef\u4ee5\u8ba9\u8fd9\u4e00\u8fc7\u7a0b\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u3002"),c.a.createElement("p",null,"\u5728\u7ec4\u4ef6\u4e2d\u8c03\u7528 ",c.a.createElement("code",null,"useSubscribe")," \u53ef\u4ee5\u8ba2\u9605\u4e00\u4e2a\u4e8b\u4ef6(\u7ec4\u4ef6\u6d88\u8d39\u65f6\u4f1a\u81ea\u52a8\u53d6\u6d88\u8ba2\u9605)"),c.a.createElement("p",null,"\u901a\u8fc7",c.a.createElement("code",null,"PubSub.publish")," \u53ef\u4ee5\u53d1\u5e03\u4e00\u4e2a\u4e8b\u4ef6"),c.a.createElement("p",null,"\u5982\u679c\u6709\u9700\u8981\uff0c\u5728\u975e\u7ec4\u4ef6\u4e2d\u53ef\u4ee5\u4f7f\u7528",c.a.createElement("code",null,"PubSub.publish"),"\u3001",c.a.createElement("code",null,"PubSub.subscribe"),"\u6765\u8fdb\u884c\u8ba2\u9605\u3001\u53d1\u5e03(\u6ce8:\u5982\u679c\u81ea\u884c PubSub.subscribe \u8bf7\u6ce8\u610f\u8c03\u7528",c.a.createElement("code",null,"PubSub.unsubscribe"),"\u8fdb\u884c\u53d6\u6d88\u8ba2\u9605)"),c.a.createElement("pre",{className:"language-js"},c.a.createElement("code",{className:"language-js"},c.a.createElement("span",{className:"token function"},"useSubscribe"),c.a.createElement("span",{className:"token punctuation"},"("),"event",c.a.createElement("span",{className:"token punctuation"},":"),"string",c.a.createElement("span",{className:"token punctuation"},","),c.a.createElement("span",{className:"token punctuation"},"("),c.a.createElement("span",{className:"token parameter"},"event",c.a.createElement("span",{className:"token punctuation"},":"),"string",c.a.createElement("span",{className:"token punctuation"},","),"data",c.a.createElement("span",{className:"token punctuation"},":"),"any"),c.a.createElement("span",{className:"token punctuation"},")"),c.a.createElement("span",{className:"token arrow operator"},"=>"),c.a.createElement("span",{className:"token keyword"},"void"),c.a.createElement("span",{className:"token punctuation"},")"),c.a.createElement("span",{className:"token punctuation"},";"),c.a.createElement("br",null))),c.a.createElement("blockquote",null,c.a.createElement("p",null,"\u5728\u7ec4\u4ef6\u591a\u6b21\u6e32\u67d3\u65f6\uff0c\u6bcf\u6b21\u6e32\u67d3\u8c03\u7528 ",c.a.createElement("code",null,"useSubscribe")," \u5f97\u5230\u7684\u8fd4\u56de\u503c\u4f1a\u4fdd\u6301\u4e0d\u53d8\uff0c\u4e0d\u4f1a\u91cd\u590d\u8ba2\u9605\u3002")),c.a.createElement("pre",{className:"language-js"},c.a.createElement("code",{className:"language-js"},c.a.createElement("span",{className:"token maybe-class-name"},"PubSub"),c.a.createElement("span",{className:"token punctuation"},"."),c.a.createElement("span",{className:"token method function property-access"},"publish"),c.a.createElement("span",{className:"token punctuation"},"("),c.a.createElement("span",{className:"token punctuation"},"("),"event",c.a.createElement("span",{className:"token punctuation"},":")," string",c.a.createElement("span",{className:"token punctuation"},")"),c.a.createElement("span",{className:"token punctuation"},",")," ",c.a.createElement("span",{className:"token punctuation"},"("),"data",c.a.createElement("span",{className:"token punctuation"},":")," any",c.a.createElement("span",{className:"token punctuation"},")"),c.a.createElement("span",{className:"token punctuation"},")"),c.a.createElement("span",{className:"token punctuation"},";"),c.a.createElement("br",null))),c.a.createElement("p",null,"\u5bf9\u4e8e",c.a.createElement("strong",null,"\u5b50\u7ec4\u4ef6"),"\u901a\u77e5",c.a.createElement("strong",null,"\u7236\u7ec4\u4ef6"),"\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u4ecd\u7136\u63a8\u8350\u76f4\u63a5\u4f7f\u7528 ",c.a.createElement("code",null,"props")," \u4f20\u9012\u4e00\u4e2a ",c.a.createElement("code",null,"event")," \u51fd\u6570\u3002",c.a.createElement("code",null,"useSubscribe")," \u9002\u5408\u7684\u662f\u5728",c.a.createElement("strong",null,"\u8ddd\u79bb\u8f83\u8fdc"),"\u7684\u7ec4\u4ef6\u4e4b\u95f4\u8fdb\u884c\u4e8b\u4ef6\u901a\u77e5\uff0c\u6216\u662f\u5728",c.a.createElement("strong",null,"\u591a\u4e2a"),"\u7ec4\u4ef6\u4e4b\u95f4\u5171\u4eab\u4e8b\u4ef6\u901a\u77e5\u3002"),c.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},c.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),c.a.createElement("h3",{id:"\u5b50\u7ec4\u4ef6\u53d1\u5e03\u7236\u7ec4\u4ef6\u8ba2\u9605"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u5b50\u7ec4\u4ef6\u53d1\u5e03\u7236\u7ec4\u4ef6\u8ba2\u9605"},c.a.createElement("span",{className:"icon icon-link"})),"\u5b50\u7ec4\u4ef6\u53d1\u5e03\u7236\u7ec4\u4ef6\u8ba2\u9605")),c.a.createElement(o.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button, Input, Badge, Divider, Row, Col } from 'antd';\nimport { PubSub, useSubscribe } from '@wetrial/hooks';\n\nconst eventType = {\n  sendMessage: 'sendMessage',\n};\n\nfunction MessageList() {\n  const [messages, setMessages] = useState('');\n\n  useSubscribe(eventType.sendMessage, (_, data) => {\n    setMessages(data);\n  });\n\n  return (\n    <>\n      <Badge dot>\u6d88\u606f</Badge>\n      <Input.TextArea value={messages}></Input.TextArea>\n    </>\n  );\n}\n\nfunction Chat() {\n  const [message, setMessage] = useState('');\n\n  const sendMessage = e => {\n    e.preventDefault();\n    PubSub.publish(eventType.sendMessage, `${message}-${new Date().getTime()}`);\n    setMessage('');\n  };\n\n  return (\n    <Input.Group>\n      <Row>\n        <Col span={22}>\n          <Input\n            value={message}\n            onChange={e => {\n              setMessage(e.target.value);\n            }}\n            defaultValue=\"receive\"\n          />\n        </Col>\n        <Col span={2}>\n          <Button onClick={sendMessage} type=\"primary\">\n            \u53d1\u9001\n          </Button>\n        </Col>\n      </Row>\n    </Input.Group>\n  );\n}\n\nexport default function() {\n  return (\n    <>\n      <MessageList />\n      <Divider></Divider>\n      <Chat />\n    </>\n  );\n}\n",jsx:"import React, { useState } from 'react';\nimport { Button, Input, Badge, Divider, Row, Col } from 'antd';\nimport { PubSub, useSubscribe } from '@wetrial/hooks';\n\nconst eventType = {\n  sendMessage: 'sendMessage',\n};\n\nfunction MessageList() {\n  const [messages, setMessages] = useState('');\n  useSubscribe(eventType.sendMessage, (_, data) => {\n    setMessages(data);\n  });\n  return (\n    <>\n      <Badge dot>\u6d88\u606f</Badge>\n      <Input.TextArea value={messages}></Input.TextArea>\n    </>\n  );\n}\n\nfunction Chat() {\n  const [message, setMessage] = useState('');\n\n  const sendMessage = e => {\n    e.preventDefault();\n    PubSub.publish(eventType.sendMessage, `${message}-${new Date().getTime()}`);\n    setMessage('');\n  };\n\n  return (\n    <Input.Group>\n      <Row>\n        <Col span={22}>\n          <Input\n            value={message}\n            onChange={e => {\n              setMessage(e.target.value);\n            }}\n            defaultValue=\"receive\"\n          />\n        </Col>\n        <Col span={2}>\n          <Button onClick={sendMessage} type=\"primary\">\n            \u53d1\u9001\n          </Button>\n        </Col>\n      </Row>\n    </Input.Group>\n  );\n}\n\nexport default function() {\n  return (\n    <>\n      <MessageList />\n      <Divider></Divider>\n      <Chat />\n    </>\n  );\n}\n"}},{path:"/_demos/demo1-1",dependencies:{antd:"4.2.2","@wetrial/hooks":"2.0.8"},files:{}}),c.a.createElement(l,null)),c.a.createElement("div",{className:"markdown"},c.a.createElement("h2",{id:"api"},c.a.createElement("a",{"aria-hidden":"true",href:"#api"},c.a.createElement("span",{className:"icon icon-link"})),"API"),c.a.createElement("pre",{className:"language-typescript"},c.a.createElement("code",{className:"language-typescript"},c.a.createElement("span",{className:"token keyword"},"import")," ",c.a.createElement("span",{className:"token punctuation"},"{")," usePublish",c.a.createElement("span",{className:"token punctuation"},",")," ",c.a.createElement("span",{className:"token maybe-class-name"},"PubSub")," ",c.a.createElement("span",{className:"token punctuation"},"}")," ",c.a.createElement("span",{className:"token keyword"},"from")," ",c.a.createElement("span",{className:"token string"},"'@wetrial/hooks'"),c.a.createElement("span",{className:"token punctuation"},";"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("span",{className:"token function"},"useSubscribe"),c.a.createElement("span",{className:"token punctuation"},"("),"event",c.a.createElement("span",{className:"token punctuation"},":"),c.a.createElement("span",{className:"token builtin"},"string"),c.a.createElement("span",{className:"token punctuation"},","),c.a.createElement("span",{className:"token punctuation"},"("),c.a.createElement("span",{className:"token parameter"},"event",c.a.createElement("span",{className:"token punctuation"},":"),c.a.createElement("span",{className:"token builtin"},"string"),c.a.createElement("span",{className:"token punctuation"},","),"data",c.a.createElement("span",{className:"token punctuation"},":"),c.a.createElement("span",{className:"token builtin"},"any")),c.a.createElement("span",{className:"token punctuation"},")"),c.a.createElement("span",{className:"token arrow operator"},"=>"),c.a.createElement("span",{className:"token keyword"},"void"),c.a.createElement("span",{className:"token punctuation"},")"),c.a.createElement("span",{className:"token punctuation"},";"),c.a.createElement("br",null),c.a.createElement("span",{className:"token maybe-class-name"},"PubSub"),c.a.createElement("span",{className:"token punctuation"},"."),c.a.createElement("span",{className:"token method function property-access"},"publish"),c.a.createElement("span",{className:"token punctuation"},"("),"event",c.a.createElement("span",{className:"token punctuation"},":"),c.a.createElement("span",{className:"token builtin"},"string"),c.a.createElement("span",{className:"token punctuation"},","),"data",c.a.createElement("span",{className:"token punctuation"},":"),c.a.createElement("span",{className:"token builtin"},"any"),c.a.createElement("span",{className:"token punctuation"},")"),c.a.createElement("span",{className:"token punctuation"},";"),c.a.createElement("br",null)))))}},PQMj:function(e,t,n){},bE4E:function(e,t,n){},jCWc:function(e,t,n){"use strict";n("cIOH"),n("1GLa")},kPKH:function(e,t,n){"use strict";var a=n("/kpp");t["a"]=a["a"]}}]);