(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11,10],{"/7QA":function(n,a,s){"use strict";s.d(a,"c",(function(){return i})),s.d(a,"b",(function(){return f})),s.d(a,"d",(function(){return v})),s.d(a,"a",(function(){return x.a}));var t,e=s("ODXe"),p=s("uFwe"),c=s("q1tI"),o=new Set,l={xs:{min:-1/0,max:576},sm:{min:576,max:768},md:{min:768,max:992},lg:{min:992,max:1200},xl:{min:1200,max:1600},xxl:{min:1600,max:1/0}};function u(){t||(t={size:{height:0,width:0},screen:"xs"},k(),window.addEventListener("resize",()=>{var n=t;if(k(),n!==t){var a,s=Object(p["a"])(o);try{for(s.s();!(a=s.n()).done;){var e=a.value;e()}}catch(c){s.e(c)}finally{s.f()}}}))}function k(){for(var n,a=window.innerWidth,s=window.innerHeight,e={size:{width:a,height:s}},p=!1,c=0,o=Object.keys(l);c<o.length;c++){var u=o[c];if(n=l[u],a>=n.min&&a<n.max){e.screen=u,p=!0;break}}(p||e.size.width!==t.size.width||e.size.height!==t.size.height)&&(t=e)}function i(){u();var n=Object(c["useState"])(t),a=Object(e["a"])(n,2),s=a[0],p=a[1];return Object(c["useEffect"])(()=>{var n=()=>{p(t)};return o.add(n),()=>{o.delete(n)}},[]),s}var r,m=s("VTBJ"),g=s("Ff2n"),d=s("n+Aq"),b=(s("BXCy"),"__WETRIAL_USEFORMTABLE__");function E(n,a){var s=a.form,t=a.refreshDeps,p=void 0===t?[]:t,o=a.manual,l=a.cacheKey,u=Object(g["a"])(a,["form","refreshDeps","manual","cacheKey"]),k=Object(d["c"])("".concat(b).concat(l)),i=Object(e["a"])(k,2),E=i[0],f=i[1],y=Object(d["b"])(n,Object(m["a"])({formatResult:r},u,{paginated:!0,manual:!0})),x=y.params,v=y.run,w=x[2]||{},C=Object(c["useState"])(w.type||"simple"),N=Object(e["a"])(C,2),h=N[0],j=N[1],M=Object(c["useState"])(w.allFormData||{}),S=Object(e["a"])(M,2),O=S[0],D=S[1];Object(d["d"])(()=>{l&&f({pagination:x[0]||{},type:h,allFormData:O})},[x[0],h,O]);var I=Object(c["useCallback"])(()=>{if(!s)return{};if(s.getFieldInstance){var n=s.getFieldsValue(),a={};return Object.keys(n).forEach(t=>{s.getFieldInstance&&!s.getFieldInstance(t)||(a[t]=n[t])}),a}return s.getFieldsValue(null,()=>!0)},[s]),T=Object(c["useRef"])(s);T.current=s,Object(c["useEffect"])(()=>{if(T.current)if(T.current.getFieldInstance){var n={};Object.keys(O).forEach(a=>{T.current.getFieldInstance&&!T.current.getFieldInstance(a)||(n[a]=O[a])}),T.current.setFieldsValue(n)}else T.current.setFieldsValue(O)},[h]),Object(c["useEffect"])(()=>{if(x.length>0)v(...x);else{if(l&&0===x.length){var n=window.performance&&window.performance.navigation&&(PerformanceNavigation.TYPE_RELOAD===window.performance.navigation.type||PerformanceNavigation.TYPE_BACK_FORWARD===window.performance.navigation.type);if(E&&(E.active||n))return x=[E.pagination||{},E.allFormData,{type:E.type,allFormData:E.allFormData}],j(E.type||h),D(E.allFormData),void v(...x)}o||B()}},[]);var F=Object(c["useCallback"])(()=>{var n=I();D(Object(m["a"])({},O,{},n));var a="simple"===h?"advance":"simple";j(a)},[h,O,I]),B=Object(c["useCallback"])(n=>{(null===n||void 0===n?void 0:n.preventDefault)&&n.preventDefault(),setTimeout(()=>{var n=I(),s=Object(m["a"])({},O,{},n);D(s),v(Object(m["a"])({pageSize:a.defaultPageSize||10},x[0]||{},{current:1}),n,{allFormData:s,type:h})})},[I,v,x,O,h]),P=Object(c["useCallback"])(()=>{s&&s.resetFields(),B()},[s,B]),R=Object(d["a"])(P);return Object(d["d"])(()=>{o||R()},[...p]),Object(m["a"])({},y,{search:{submit:B,type:h,changeType:F,reset:P}})}var f=E,y=s("kRpH"),x=s.n(y);function v(n,a){Object(c["useEffect"])(()=>{var s=x.a.subscribe(n,a);return()=>{x.a.unsubscribe(s)}},[])}},K0wg:function(n,a,s){"use strict";s.r(a);s("/zsF");var t=s("PArb"),e=(s("14J3"),s("BMrR")),p=(s("+L6B"),s("2/Rp")),c=(s("jCWc"),s("kPKH")),o=(s("5NDa"),s("5rEg")),l=(s("Awhp"),s("KrTs")),u=s("ODXe"),k=s("q1tI"),i=s.n(k),r=s("/7QA"),m={sendMessage:"sendMessage"};function g(){var n=Object(k["useState"])(""),a=Object(u["a"])(n,2),s=a[0],t=a[1];return Object(r["d"])(m.sendMessage,(n,a)=>{t(a)}),i.a.createElement(i.a.Fragment,null,i.a.createElement(l["a"],{dot:!0},"\u6d88\u606f"),i.a.createElement(o["a"].TextArea,{value:s}))}function d(){var n=Object(k["useState"])(""),a=Object(u["a"])(n,2),s=a[0],t=a[1],l=n=>{n.preventDefault(),r["a"].publish(m.sendMessage,"".concat(s,"-").concat((new Date).getTime())),t("")};return i.a.createElement(o["a"].Group,null,i.a.createElement(e["a"],null,i.a.createElement(c["a"],{span:22},i.a.createElement(o["a"],{value:s,onChange:n=>{t(n.target.value)},defaultValue:"receive"})),i.a.createElement(c["a"],{span:2},i.a.createElement(p["a"],{onClick:l,type:"primary"},"\u53d1\u9001"))))}a["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(g,null),i.a.createElement(t["a"],null),i.a.createElement(d,null))}},"KR+h":function(n,a,s){"use strict";s.r(a);var t=s("wx14"),e=s("q1tI"),p=s.n(e),c=(s("B2uJ"),s("+su7"),s("5Yjd")),o=s.n(c),l=p.a.memo((function(){var n=t(s("q1tI")),a=t(s("K0wg"));function t(n){return n&&n.__esModule?n:{default:n}}var e=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(e)}));a["default"]=function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"markdown"},p.a.createElement("h1",{id:"usepubsub"},p.a.createElement("a",{"aria-hidden":"true",href:"#usepubsub"},p.a.createElement("span",{className:"icon icon-link"})),"usePubSub"),p.a.createElement("p",null,"\u5728\u591a\u4e2a\u7ec4\u4ef6\u4e4b\u95f4\u8fdb\u884c\u4e8b\u4ef6\u901a\u77e5\u6709\u65f6\u4f1a\u8ba9\u4eba\u975e\u5e38\u5934\u75bc\uff0c\u501f\u52a9 PubSub \uff0c\u53ef\u4ee5\u8ba9\u8fd9\u4e00\u8fc7\u7a0b\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u3002"),p.a.createElement("p",null,"\u5728\u7ec4\u4ef6\u4e2d\u8c03\u7528 ",p.a.createElement("code",null,"useSubscribe")," \u53ef\u4ee5\u8ba2\u9605\u4e00\u4e2a\u4e8b\u4ef6(\u7ec4\u4ef6\u6d88\u8d39\u65f6\u4f1a\u81ea\u52a8\u53d6\u6d88\u8ba2\u9605)"),p.a.createElement("p",null,"\u901a\u8fc7",p.a.createElement("code",null,"PubSub.publish")," \u53ef\u4ee5\u53d1\u5e03\u4e00\u4e2a\u4e8b\u4ef6"),p.a.createElement("p",null,"\u5982\u679c\u6709\u9700\u8981\uff0c\u5728\u975e\u7ec4\u4ef6\u4e2d\u53ef\u4ee5\u4f7f\u7528",p.a.createElement("code",null,"PubSub.publish"),"\u3001",p.a.createElement("code",null,"PubSub.subscribe"),"\u6765\u8fdb\u884c\u8ba2\u9605\u3001\u53d1\u5e03(\u6ce8:\u5982\u679c\u81ea\u884c PubSub.subscribe \u8bf7\u6ce8\u610f\u8c03\u7528",p.a.createElement("code",null,"PubSub.unsubscribe"),"\u8fdb\u884c\u53d6\u6d88\u8ba2\u9605)"),p.a.createElement("pre",{className:"language-js"},p.a.createElement("code",{className:"language-js"},p.a.createElement("span",{className:"token function"},"useSubscribe"),p.a.createElement("span",{className:"token punctuation"},"("),"event",p.a.createElement("span",{className:"token punctuation"},":"),"string",p.a.createElement("span",{className:"token punctuation"},","),p.a.createElement("span",{className:"token punctuation"},"("),p.a.createElement("span",{className:"token parameter"},"event",p.a.createElement("span",{className:"token punctuation"},":"),"string",p.a.createElement("span",{className:"token punctuation"},","),"data",p.a.createElement("span",{className:"token punctuation"},":"),"any"),p.a.createElement("span",{className:"token punctuation"},")"),p.a.createElement("span",{className:"token arrow operator"},"=>"),p.a.createElement("span",{className:"token keyword"},"void"),p.a.createElement("span",{className:"token punctuation"},")"),p.a.createElement("span",{className:"token punctuation"},";"),p.a.createElement("br",null))),p.a.createElement("blockquote",null,p.a.createElement("p",null,"\u5728\u7ec4\u4ef6\u591a\u6b21\u6e32\u67d3\u65f6\uff0c\u6bcf\u6b21\u6e32\u67d3\u8c03\u7528 ",p.a.createElement("code",null,"useSubscribe")," \u5f97\u5230\u7684\u8fd4\u56de\u503c\u4f1a\u4fdd\u6301\u4e0d\u53d8\uff0c\u4e0d\u4f1a\u91cd\u590d\u8ba2\u9605\u3002")),p.a.createElement("pre",{className:"language-js"},p.a.createElement("code",{className:"language-js"},p.a.createElement("span",{className:"token maybe-class-name"},"PubSub"),p.a.createElement("span",{className:"token punctuation"},"."),p.a.createElement("span",{className:"token method function property-access"},"publish"),p.a.createElement("span",{className:"token punctuation"},"("),p.a.createElement("span",{className:"token punctuation"},"("),"event",p.a.createElement("span",{className:"token punctuation"},":")," string",p.a.createElement("span",{className:"token punctuation"},")"),p.a.createElement("span",{className:"token punctuation"},",")," ",p.a.createElement("span",{className:"token punctuation"},"("),"data",p.a.createElement("span",{className:"token punctuation"},":")," any",p.a.createElement("span",{className:"token punctuation"},")"),p.a.createElement("span",{className:"token punctuation"},")"),p.a.createElement("span",{className:"token punctuation"},";"),p.a.createElement("br",null))),p.a.createElement("p",null,"\u5bf9\u4e8e",p.a.createElement("strong",null,"\u5b50\u7ec4\u4ef6"),"\u901a\u77e5",p.a.createElement("strong",null,"\u7236\u7ec4\u4ef6"),"\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u4ecd\u7136\u63a8\u8350\u76f4\u63a5\u4f7f\u7528 ",p.a.createElement("code",null,"props")," \u4f20\u9012\u4e00\u4e2a ",p.a.createElement("code",null,"event")," \u51fd\u6570\u3002",p.a.createElement("code",null,"useSubscribe")," \u9002\u5408\u7684\u662f\u5728",p.a.createElement("strong",null,"\u8ddd\u79bb\u8f83\u8fdc"),"\u7684\u7ec4\u4ef6\u4e4b\u95f4\u8fdb\u884c\u4e8b\u4ef6\u901a\u77e5\uff0c\u6216\u662f\u5728",p.a.createElement("strong",null,"\u591a\u4e2a"),"\u7ec4\u4ef6\u4e4b\u95f4\u5171\u4eab\u4e8b\u4ef6\u901a\u77e5\u3002"),p.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},p.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},p.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),p.a.createElement("h3",{id:"\u5b50\u7ec4\u4ef6\u53d1\u5e03\u7236\u7ec4\u4ef6\u8ba2\u9605"},p.a.createElement("a",{"aria-hidden":"true",href:"#\u5b50\u7ec4\u4ef6\u53d1\u5e03\u7236\u7ec4\u4ef6\u8ba2\u9605"},p.a.createElement("span",{className:"icon icon-link"})),"\u5b50\u7ec4\u4ef6\u53d1\u5e03\u7236\u7ec4\u4ef6\u8ba2\u9605")),p.a.createElement(o.a,Object(t["a"])({source:{raw:"import React, { useState } from 'react';\nimport { Button, Input, Badge, Divider, Row, Col } from 'antd';\nimport { PubSub, useSubscribe } from '@wetrial/hooks';\n\nconst eventType = {\n  sendMessage: 'sendMessage',\n};\n\nfunction MessageList() {\n  const [messages, setMessages] = useState('');\n\n  useSubscribe(eventType.sendMessage, (_, data) => {\n    setMessages(data);\n  });\n\n  return (\n    <>\n      <Badge dot>\u6d88\u606f</Badge>\n      <Input.TextArea value={messages}></Input.TextArea>\n    </>\n  );\n}\n\nfunction Chat() {\n  const [message, setMessage] = useState('');\n\n  const sendMessage = e => {\n    e.preventDefault();\n    PubSub.publish(eventType.sendMessage, `${message}-${new Date().getTime()}`);\n    setMessage('');\n  };\n\n  return (\n    <Input.Group>\n      <Row>\n        <Col span={22}>\n          <Input\n            value={message}\n            onChange={e => {\n              setMessage(e.target.value);\n            }}\n            defaultValue=\"receive\"\n          />\n        </Col>\n        <Col span={2}>\n          <Button onClick={sendMessage} type=\"primary\">\n            \u53d1\u9001\n          </Button>\n        </Col>\n      </Row>\n    </Input.Group>\n  );\n}\n\nexport default function() {\n  return (\n    <>\n      <MessageList />\n      <Divider></Divider>\n      <Chat />\n    </>\n  );\n}\n",jsx:'<pre class="language-jsx"><code class="language-jsx"><span class="token keyword module">import</span> <span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Button</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Input</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Badge</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Divider</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Row</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Col</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'antd\'</span><span class="token punctuation">;</span>\n<span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">PubSub</span><span class="token punctuation">,</span> useSubscribe <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'@wetrial/hooks\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> eventType <span class="token operator">=</span> <span class="token punctuation">{</span>\n  sendMessage<span class="token punctuation">:</span> <span class="token string">\'sendMessage\'</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MessageList</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>messages<span class="token punctuation">,</span> setMessages<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">useSubscribe</span><span class="token punctuation">(</span>eventType<span class="token punctuation">.</span><span class="token property-access">sendMessage</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">setMessages</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Badge</span></span> <span class="token attr-name">dot</span><span class="token punctuation">></span></span><span class="token plain-text">\u6d88\u606f</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Badge</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Input.TextArea</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>messages<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Input.TextArea</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Chat</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">sendMessage</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token maybe-class-name">PubSub</span><span class="token punctuation">.</span><span class="token method function property-access">publish</span><span class="token punctuation">(</span>eventType<span class="token punctuation">.</span><span class="token property-access">sendMessage</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Input.Group</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Row</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">22</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Input</span></span>\n            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>\n            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n              <span class="token function">setMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n            <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>receive<span class="token punctuation">"</span></span>\n          <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Col</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sendMessage<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            \u53d1\u9001\n          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Col</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Row</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Input.Group</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">MessageList</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Divider</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Divider</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Chat</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n</code></pre>',tsx:'<pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Button</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Input</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Badge</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Divider</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Row</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Col</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'antd\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">PubSub</span><span class="token punctuation">,</span> useSubscribe <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@wetrial/hooks\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> eventType <span class="token operator">=</span> <span class="token punctuation">{</span>\n  sendMessage<span class="token punctuation">:</span> <span class="token string">\'sendMessage\'</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MessageList</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>messages<span class="token punctuation">,</span> setMessages<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token function">useSubscribe</span><span class="token punctuation">(</span>eventType<span class="token punctuation">.</span><span class="token property-access">sendMessage</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">setMessages</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Badge</span></span> <span class="token attr-name">dot</span><span class="token punctuation">></span></span><span class="token plain-text">\u6d88\u606f</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Badge</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Input.TextArea</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>messages<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Input.TextArea</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Chat</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">sendMessage</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token maybe-class-name">PubSub</span><span class="token punctuation">.</span><span class="token method function property-access">publish</span><span class="token punctuation">(</span>eventType<span class="token punctuation">.</span><span class="token property-access">sendMessage</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Input.Group</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Row</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">22</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Input</span></span>\n            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>\n            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n              <span class="token function">setMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n            <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>receive<span class="token punctuation">"</span></span>\n          <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Col</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sendMessage<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            \u53d1\u9001\n          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Col</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Row</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Input.Group</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">MessageList</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Divider</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token class-name">Divider</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token class-name">Chat</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n</code></pre>'}},{path:"/_demos/demo1-1",dependencies:{antd:"4.1.1","@wetrial/hooks":"2.0.0"}}),p.a.createElement(l,null)),p.a.createElement("div",{className:"markdown"},p.a.createElement("h2",{id:"api"},p.a.createElement("a",{"aria-hidden":"true",href:"#api"},p.a.createElement("span",{className:"icon icon-link"})),"API"),p.a.createElement("pre",{className:"language-typescript"},p.a.createElement("code",{className:"language-typescript"},p.a.createElement("span",{className:"token keyword"},"import")," ",p.a.createElement("span",{className:"token punctuation"},"{")," usePublish",p.a.createElement("span",{className:"token punctuation"},",")," ",p.a.createElement("span",{className:"token maybe-class-name"},"PubSub")," ",p.a.createElement("span",{className:"token punctuation"},"}")," ",p.a.createElement("span",{className:"token keyword"},"from")," ",p.a.createElement("span",{className:"token string"},"'@wetrial/hooks'"),p.a.createElement("span",{className:"token punctuation"},";"),p.a.createElement("br",null),p.a.createElement("br",null),p.a.createElement("span",{className:"token function"},"useSubscribe"),p.a.createElement("span",{className:"token punctuation"},"("),"event",p.a.createElement("span",{className:"token punctuation"},":"),p.a.createElement("span",{className:"token builtin"},"string"),p.a.createElement("span",{className:"token punctuation"},","),p.a.createElement("span",{className:"token punctuation"},"("),p.a.createElement("span",{className:"token parameter"},"event",p.a.createElement("span",{className:"token punctuation"},":"),p.a.createElement("span",{className:"token builtin"},"string"),p.a.createElement("span",{className:"token punctuation"},","),"data",p.a.createElement("span",{className:"token punctuation"},":"),p.a.createElement("span",{className:"token builtin"},"any")),p.a.createElement("span",{className:"token punctuation"},")"),p.a.createElement("span",{className:"token arrow operator"},"=>"),p.a.createElement("span",{className:"token keyword"},"void"),p.a.createElement("span",{className:"token punctuation"},")"),p.a.createElement("span",{className:"token punctuation"},";"),p.a.createElement("br",null),p.a.createElement("span",{className:"token maybe-class-name"},"PubSub"),p.a.createElement("span",{className:"token punctuation"},"."),p.a.createElement("span",{className:"token method function property-access"},"publish"),p.a.createElement("span",{className:"token punctuation"},"("),"event",p.a.createElement("span",{className:"token punctuation"},":"),p.a.createElement("span",{className:"token builtin"},"string"),p.a.createElement("span",{className:"token punctuation"},","),"data",p.a.createElement("span",{className:"token punctuation"},":"),p.a.createElement("span",{className:"token builtin"},"any"),p.a.createElement("span",{className:"token punctuation"},")"),p.a.createElement("span",{className:"token punctuation"},";"),p.a.createElement("br",null)))))}}}]);